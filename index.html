<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>LoVasASudar.com ‚Äì Calculadora de castigo cal√≥rico de fiesta</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- SEO b√°sico -->
  <meta name="description" content="LoVasASudar.com: mete lo que vas a comer y beber y descubre cu√°nto ejercicio tendr√≠as que hacer para sudarlo. Ideal para cenas y noches de fiesta con colegas.">
  <meta name="keywords" content="calor√≠as, ejercicio, fiesta, copas, calculadora calor√≠as, quemar calor√≠as, running, gimnasio, dieta, pizza, alcohol">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://lovasasudar.com/">
  <!-- Open Graph / redes -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="LoVasASudar.com ‚Äì Calculadora de castigo cal√≥rico para noches de fiesta">
  <meta property="og:description" content="El juego web que te dice cu√°nto tienes que sudar por tus pizzas, hamburguesas y gin-tonics.">
  <meta property="og:url" content="https://lovasasudar.com/">
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="LoVasASudar.com ‚Äì Calculadora de castigo cal√≥rico de fiesta">
  <meta name="twitter:description" content="Mete comida y copas y descubre cu√°nto ejercicio tendr√≠as que hacer para sudarlo.">
  <style>
    :root {
      --primary: #5b7cfa;
      --primary-soft: rgba(91, 124, 250, 0.15);
      --accent: #ff5bcb;
      --accent-soft: rgba(255, 91, 203, 0.15);
      --bg: #050818;
      --bg-alt: #090d23;
      --card-bg: #0c1027;
      --text-main: #f8f9ff;
      --text-soft: #a5add9;
      --danger: #ff7676;
      --border: #252a4a;
      --radius-lg: 18px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top, rgba(91, 124, 250, 0.25), transparent 55%),
        radial-gradient(circle at 80% 0, rgba(255, 91, 203, 0.18), transparent 50%),
        var(--bg);
      color: var(--text-main);
    }
    .app {
      max-width: 1150px;
      margin: 0 auto;
      padding: 24px 16px 40px;
      position: relative;
    }
    /* Selector idioma */
    .lang-switcher {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      gap: 6px;
      z-index: 10;
    }
    .lang-btn {
      border-radius: 999px;
      border: 1px solid rgba(159, 168, 255, 0.6);
      background: rgba(9, 13, 35, 0.95);
      color: #f8f9ff;
      font-size: 0.75rem;
      padding: 4px 10px;
      cursor: pointer;
      transition: background 0.15s, box-shadow 0.15s, transform 0.06s;
    }
    .lang-btn.active {
      background: linear-gradient(135deg, #5b7cfa, #ff5bcb);
      box-shadow: 0 0 12px rgba(91, 124, 250, 0.7), 0 0 18px rgba(255, 91, 203, 0.7);
      transform: translateY(-1px);
    }
    header { text-align: center; margin-bottom: 18px; }
    h1 {
      margin: 0;
      font-size: 2.1rem;
      font-weight: 900;
      letter-spacing: 0.03em;
      color: #ffffff;
      text-shadow: 0 0 10px rgba(91, 124, 250, 0.9);
    }
    header p {
      margin: 8px auto 0;
      color: var(--text-soft);
      font-size: 0.95rem;
      max-width: 520px;
    }
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: linear-gradient(120deg, rgba(91, 124, 250, 0.25), rgba(255, 91, 203, 0.25));
      color: #ffffff;
      border-radius: 999px;
      padding: 4px 12px;
      font-size: 0.8rem;
      margin-bottom: 10px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 0 12px rgba(91, 124, 250, 0.5);
    }
    .pill span { font-size: 1rem; }
    .layout { display: flex; flex-direction: column; gap: 18px; }
    .card {
      background: radial-gradient(circle at top left, rgba(91, 124, 250, 0.16), transparent 55%),
                  radial-gradient(circle at bottom right, rgba(255, 91, 203, 0.12), transparent 55%),
                  var(--card-bg);
      border-radius: var(--radius-lg);
      padding: 16px 16px 18px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.75);
      border: 1px solid rgba(159, 168, 255, 0.15);
    }
    .card h2 {
      margin: 0 0 8px;
      font-size: 1.05rem;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #ffffff;
    }
    .card h2 span.emoji { font-size: 1.2rem; }
    .card small {
      display: block;
      margin-top: 2px;
      color: var(--text-soft);
      font-size: 0.8rem;
    }
    .form-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
      gap: 16px;
      align-items: flex-start;
    }
    @media (max-width: 900px) { .form-grid { grid-template-columns: 1fr; } }
    .section-card {
      background: rgba(9, 13, 35, 0.92);
      border-radius: 16px;
      padding: 10px 12px 12px;
      border: 1px solid rgba(102, 111, 214, 0.7);
    }
    .section-card.right { border-color: rgba(255, 91, 203, 0.7); }
    .section-title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 6px;
    }
    .section-badge {
      font-size: 0.72rem;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: linear-gradient(120deg, rgba(91, 124, 250, 0.3), rgba(255, 91, 203, 0.3));
      color: #fdfdff;
      white-space: nowrap;
    }
    .field { margin-bottom: 8px; }
    .field label {
      display: block;
      font-size: 0.86rem;
      margin-bottom: 4px;
      color: #dde1ff;
    }
    .field-row { display: flex; gap: 8px; }
    input[type="number"],
    input[type="text"],
    select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid var(--border);
      font-size: 0.9rem;
      outline: none;
      background: #050819;
      color: var(--text-main);
      transition: border 0.15s, box-shadow 0.15s, background 0.15s;
    }
    input[type="number"]:focus,
    input[type="text"]:focus,
    select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(255, 91, 203, 0.4);
      background: #080d22;
    }
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    input[type="number"] { -moz-appearance: textfield; }
    .hint {
      font-size: 0.78rem;
      color: var(--text-soft);
      margin-top: 2px;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      border-radius: 999px;
      padding: 8px 16px;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: transform 0.06s ease, box-shadow 0.1s ease, background 0.15s, filter 0.15s;
      user-select: none;
    }
    .btn-primary {
      background: linear-gradient(135deg, #5b7cfa, #ff5bcb);
      color: #fff;
      box-shadow: 0 0 18px rgba(91, 124, 250, 0.8), 0 0 28px rgba(255, 91, 203, 0.8);
      width: 100%;
      margin-top: 10px;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }
    .btn-primary:hover { transform: translateY(-1px); filter: brightness(1.05); }
    .btn-primary:active { transform: translateY(0); box-shadow: 0 10px 22px rgba(0, 0, 0, 0.7); }
    .toggle-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 6px;
      margin-bottom: 6px;
      font-size: 0.85rem;
      color: var(--text-soft);
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(91, 124, 250, 0.18);
      border: 1px solid rgba(91, 124, 250, 0.6);
    }
    .toggle-row label { display: flex; align-items: center; gap: 6px; cursor: pointer; color: #e4e6ff; }
    .toggle-row input { accent-color: #ff5bcb; }
    .toggle-label-strong {
      color: #ffffff;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .toggle-label-strong span { font-size: 1.1rem; }
    .subcard {
      border-radius: 14px;
      border: 1px solid rgba(255, 91, 203, 0.7);
      padding: 8px 10px;
      background: linear-gradient(135deg, rgba(255, 91, 203, 0.15), rgba(91, 124, 250, 0.15));
      margin-top: 6px;
      margin-bottom: 4px;
      box-shadow: 0 0 18px rgba(255, 91, 203, 0.35);
    }
    .subcard.battle {
      border-color: rgba(91, 124, 250, 0.8);
      background: linear-gradient(135deg, rgba(91, 124, 250, 0.18), rgba(12, 16, 39, 0.95));
      box-shadow: 0 0 18px rgba(91, 124, 250, 0.5);
    }
    .subcard h3 {
      margin: 0 0 4px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 6px;
      color: #ffffff;
    }
    .subcard h3 span { font-size: 1rem; }
    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
      align-items: center;
    }
    .tag-soft {
      font-size: 0.72rem;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(9, 13, 35, 0.9);
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .tag-soft span { font-size: 1rem; }
    .error {
      margin-top: 6px;
      font-size: 0.8rem;
      color: var(--danger);
    }
    hr.divider {
      border: none;
      border-top: 1px solid rgba(116, 125, 214, 0.4);
      margin: 10px 0;
    }
    /* RESULTADOS */
    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 4px;
    }
    .results-header h2 {
      margin: 0;
      font-size: 1.05rem;
      color: #ffffff;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .badge-kcal {
      background: rgba(255, 200, 120, 0.16);
      color: #ffd9a0;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.78rem;
      border: 1px solid rgba(255, 200, 120, 0.65);
      white-space: nowrap;
      box-shadow: 0 0 12px rgba(255, 193, 94, 0.7);
    }
    .phrase {
      font-size: 0.9rem;
      color: var(--text-soft);
      margin-bottom: 8px;
      padding-bottom: 6px;
      border-bottom: 1px dashed rgba(159, 168, 255, 0.5);
    }
    .people-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 8px;
    }
    .people-tabs button {
      font-size: 0.8rem;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(116, 125, 214, 0.75);
      background: rgba(9, 13, 35, 0.9);
      cursor: pointer;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
    .people-tabs button span.icon { font-size: 0.9rem; }
    .people-tabs button.active {
      border-color: rgba(255, 91, 203, 0.9);
      background: radial-gradient(circle at top, rgba(255, 91, 203, 0.35), transparent 60%);
      color: #ffffff;
      font-weight: 600;
      box-shadow: 0 0 14px rgba(255, 91, 203, 0.7);
    }
    .table-wrapper {
      max-height: 380px;
      overflow: auto;
      border-radius: 10px;
      border: 1px solid rgba(87, 96, 193, 0.7);
      background: rgba(7, 10, 29, 0.96);
      box-shadow: inset 0 0 18px rgba(0, 0, 0, 0.7);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.82rem;
      color: #e4e6ff;
    }
    thead {
      position: sticky;
      top: 0;
      background: linear-gradient(90deg, rgba(91, 124, 250, 0.4), rgba(255, 91, 203, 0.4));
      z-index: 1;
    }
    th, td {
      padding: 6px 8px;
      text-align: left;
      border-bottom: 1px solid rgba(50, 56, 121, 0.9);
    }
    th { font-weight: 600; font-size: 0.8rem; }
    tbody tr:nth-child(even) { background: rgba(12, 16, 39, 0.96); }
    tbody tr:nth-child(odd) { background: rgba(8, 11, 30, 0.96); }
    .activity-name { font-weight: 500; color: #ffffff; }
    .activity-soft { font-size: 0.78rem; color: var(--text-soft); }
    .disclaimer {
      margin-top: 10px;
      font-size: 0.75rem;
      color: var(--text-soft);
    }
    .disclaimer strong { color: #ffffff; }

    /* ‚îÄ‚îÄ ESTILOS NUEVOS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .share-container {
      margin: 24px 0;
      text-align: center;
    }
    .btn-share {
      background: linear-gradient(135deg, #ff4444, #ff6b6b);
      color: white;
      padding: 14px 36px;
      font-size: 1.15rem;
      font-weight: bold;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 24px rgba(255, 68, 68, 0.7);
      transition: all 0.2s;
    }
    .btn-share:hover {
      transform: scale(1.06);
      box-shadow: 0 0 36px rgba(255, 68, 68, 0.95);
    }
    .inverse-section {
      background: rgba(100,220,100,0.12);
      border: 1px solid rgba(100,220,100,0.45);
      border-radius: 14px;
      padding: 14px;
      margin: 20px 0;
    }
    .ranking-box, .top10-box {
      background: rgba(91,124,250,0.12);
      border: 1px dashed rgba(91,124,250,0.4);
      border-radius: 12px;
      padding: 16px;
      margin: 24px 0;
      font-size: 0.92rem;
    }
    .top10-box h3 { margin-top: 0; color: #d0d8ff; }
  </style>
</head>
<body>
  <div class="app">
    <!-- Selector de idioma -->
    <div class="lang-switcher">
      <button type="button" class="lang-btn active" data-lang="es">ES</button>
      <button type="button" class="lang-btn" data-lang="en">EN</button>
    </div>

    <header>
      <div class="pill">
        <span>üî•</span>
        <span data-i18n="header.pill">LoVasASudar.com ¬∑ Calculadora de castigo cal√≥rico</span>
      </div>
      <h1 data-i18n="header.title">LoVasASudar.com</h1>
      <p data-i18n="header.subtitle">
        Mete lo que vas a comer y beber y descubre cu√°nto ejercicio tendr√≠as que hacer para sudarlo.
        Perfecta para cenas con amigos y noches de copas.
      </p>
    </header>

    <div class="layout">
      <!-- FORMULARIO -->
      <div class="card">
        <div class="form-grid">
          <!-- PERFIL -->
          <div class="section-card">
            <div class="section-title">
              <div>
                <h2><span class="emoji">üë§</span><span data-i18n="profile.title">Tu perfil</span></h2>
                <small data-i18n="profile.subtitle">Pon tus datos b√°sicos para estimar el gasto.</small>
              </div>
              <div class="section-badge" data-i18n="profile.badge">0% serio, 100% fiesta</div>
            </div>
            <div class="field">
              <label for="peso" data-i18n="profile.weightLabel">Peso (kg)</label>
              <input type="number" id="peso" min="30" max="250" placeholder="80">
              <div class="hint" data-i18n="profile.weightHint">El c√°lculo se hace por kg de peso (ecuaci√≥n basada en MET).</div>
            </div>
            <div class="field">
              <label for="sexo" data-i18n="profile.genderLabel">G√©nero (opcional)</label>
              <select id="sexo">
                <option value=""></option>
                <option value="hombre"></option>
                <option value="mujer"></option>
                <option value="otro"></option>
              </select>
              <div class="hint" data-i18n="profile.genderHint">A igualdad de peso, hombres y mujeres suelen quemar algo diferente. Aqu√≠ aplicamos un ajuste sencillo (~5%).</div>
            </div>
            <div class="toggle-row">
              <span class="toggle-label-strong"><span>‚öîÔ∏è</span><span data-i18n="battle.toggleTitle">Batalla de colegas</span></span>
              <label>
                <input type="checkbox" id="toggleBattle">
                <span data-i18n="generic.enable">Activar</span>
              </label>
            </div>
            <div id="battleBlock" class="subcard battle" style="display:none;">
              <h3><span>üë•</span><span data-i18n="battle.title">Batalla de colegas</span></h3>
              <!-- ... campos de amigos sin cambios ... -->
              <div class="field-row">
                <div class="field"><label data-i18n="battle.name1">Nombre 1</label><input type="text" id="friend1Name" placeholder="Alex"></div>
                <div class="field"><label data-i18n="battle.weight1">Peso 1 (kg)</label><input type="number" id="friend1Weight" min="30" max="250"></div>
              </div>
              <div class="field-row">
                <div class="field"><label data-i18n="battle.name2">Nombre 2</label><input type="text" id="friend2Name" placeholder="Marta"></div>
                <div class="field"><label data-i18n="battle.weight2">Peso 2 (kg)</label><input type="number" id="friend2Weight" min="30" max="250"></div>
              </div>
              <div class="field-row">
                <div class="field"><label data-i18n="battle.name3">Nombre 3</label><input type="text" id="friend3Name" placeholder="Juan"></div>
                <div class="field"><label data-i18n="battle.weight3">Peso 3 (kg)</label><input type="number" id="friend3Weight" min="30" max="250"></div>
              </div>
              <div class="hint" data-i18n="battle.hint">Si nadie aqu√≠ tiene peso v√°lido, solo te usamos a ti.</div>
            </div>
          </div>

          <!-- COMIDA Y COPAS -->
          <div class="section-card right">
            <div class="section-title">
              <div>
                <h2><span class="emoji">üçî</span><span data-i18n="food.title">Lo que vas a tomar</span></h2>
                <small data-i18n="food.subtitle">Elige algo conocido o pon t√∫ las calor√≠as.</small>
              </div>
              <div class="section-badge" data-i18n="food.badge">Modo noche de fiesta üåô</div>
            </div>

            <!-- Toggle modo inverso -->
            <div class="toggle-row">
              <span class="toggle-label-strong"><span>üîÑ</span> Modo inverso: ¬øcu√°nto puedo permitirme?</span>
              <label>
                <input type="checkbox" id="toggleInverse">
                <span data-i18n="generic.enable">Activar</span>
              </label>
            </div>

            <div id="inverseBlock" class="subcard inverse-section" style="display:none;">
              <h3><span>üîÑ</span> Calculadora inversa</h3>
              <div class="field-row">
                <div class="field">
                  <label data-i18n="inverse.activity">Actividad</label>
                  <select id="inverseActivity"></select>
                </div>
                <div class="field">
                  <label data-i18n="inverse.value">Tiempo (min) o Distancia (km)</label>
                  <input type="number" id="inverseValue" min="1" placeholder="ej: 45 o 8">
                </div>
              </div>
              <button class="btn btn-primary" id="btnInverse" style="margin-top:8px;">Calcular kcal permitidas</button>
              <div id="inverseResult" style="margin-top:12px; font-weight:bold; color:#aaffaa;"></div>
            </div>

            <div class="field">
              <label for="foodSelect" data-i18n="food.labelMain">Alimento o bebida (lista ‚Äúde culto‚Äù)</label>
              <select id="foodSelect">
                <option value="0" data-label="">‚Äî</option>
                <!-- Items originales + nuevos populares 2025-2026 -->
                <option value="500" data-label="Happy Meal McDonald's">Happy Meal McDonald's (~500 kcal)</option>
                <option value="550" data-label="Big Mac">Big Mac (~550 kcal)</option>
                <option value="510" data-label="Men√∫ mediano McDonald's">Men√∫ mediano McDonald's (~510 kcal)</option>
                <option value="700" data-label="Whopper Burger King">Whopper Burger King (~700 kcal)</option>
                <option value="800" data-label="Men√∫ Whopper mediano">Men√∫ Whopper mediano (~800 kcal)</option>
                <option value="480" data-label="McPollo">McPollo (~480 kcal)</option>
                <option value="250" data-label="6 Nuggets McDonald's">6 Nuggets McDonald's (~250 kcal)</option>
                <option value="340" data-label="Patatas fritas medianas McDonald's">Patatas medianas McDonald's (~340 kcal)</option>
                <option value="420" data-label="Patatas gajo Burger King">Patatas gajo Burger King (~420 kcal)</option>
                <option value="450" data-label="Porci√≥n pizza queso (1/8 mediana)">Porci√≥n pizza queso (~450 kcal)</option>
                <option value="500" data-label="Porci√≥n pizza pepperoni (1/8 mediana)">Porci√≥n pizza pepperoni (~500 kcal)</option>
                <option value="3600" data-label="Pizza familiar queso entera">Pizza familiar queso entera (~3600 kcal)</option>
                <option value="250" data-label="Pincho de tortilla">Pincho de tortilla (~250 kcal)</option>
                <option value="500" data-label="Raci√≥n patatas bravas">Raci√≥n patatas bravas (~500 kcal)</option>
                <option value="850" data-label="Kebab completo con todo">Kebab completo (~850 kcal)</option>
                <option value="950" data-label="Shawarma grande extra salsas">Shawarma grande (~950 kcal)</option>
                <option value="700" data-label="Nachos con queso y guacamole">Nachos loaded (~700 kcal)</option>
                <option value="600" data-label="10 alitas barbacoa">10 alitas barbacoa (~600 kcal)</option>
                <option value="450" data-label="Ramen tonkotsu grande">Ramen grande (~450-800 kcal)</option>
                <option value="1200" data-label="Sushi para 2 (20-24 piezas)">Sushi para 2 (~1200 kcal)</option>
                <option value="180" data-label="Sangr√≠a jarra 1L">Sangr√≠a jarra peque√±a (~180-250 kcal/vaso)</option>
                <option value="320" data-label="Cubo cerveza 6 botellines">Cubo cerveza (~320 kcal/vaso)</option>
                <option value="900" data-label="Hamburguesa doble bacon cheese">Doble bacon cheese (~900 kcal)</option>
                <!-- ... puedes a√±adir m√°s aqu√≠ ... -->
                <option value="custom" data-label="Personalizado">Otro / personalizado</option>
              </select>
            </div>
            <!-- ... resto del formulario comida/copas sin cambios ... -->

            <button class="btn btn-primary" id="btnCalcular">
              <span data-i18n="btn.calculate">Calcular ejercicio necesario</span>
              <span>üí™</span>
            </button>
            <div id="errorBox" class="error" style="display:none;"></div>
          </div>
        </div>
      </div>

      <!-- RESULTADOS -->
      <div class="card">
        <div class="results-header">
          <h2><span class="emoji">üìä</span><span data-i18n="results.title">Resultados del castigo cal√≥rico</span></h2>
          <div id="kcalBadge" class="badge-kcal" style="display:none;"></div>
        </div>
        <div id="phraseBox" class="phrase"></div>
        <div id="peopleTabs" class="people-tabs" style="display:none;"></div>
        <div class="table-wrapper" id="tableWrapper" style="display:none;">
          <table>
            <thead><tr><th data-i18n="table.activity">Actividad</th><th data-i18n="table.time">Tiempo aprox.</th><th data-i18n="table.distance">Distancia aprox.</th></tr></thead>
            <tbody id="resultsBody"></tbody>
          </table>
        </div>

        <!-- Compartir -->
        <div class="share-container" id="shareContainer" style="display:none;">
          <button class="btn-share" id="btnShare">¬°Comparte tu castigo! üòÇüî•</button>
        </div>

        <!-- Ranking simulado -->
        <div class="ranking-box">
          <strong>Ranking semanal an√≥nimo (Espa√±a):</strong><br>
          Esta semana ya se han "sudado" <strong>~58.400 km</strong> por pizzas, kebabs y copas.<br>
          Castigo legendario: <strong>18 chupitos + men√∫ Whopper ‚Üí 32 km corriendo</strong> üòµ
        </div>

        <!-- Top castigos locos -->
        <div class="top10-box">
          <h3>Top 10 castigos m√°s salvajes (√∫ltimos d√≠as)</h3>
          <ol style="padding-left:22px; margin:12px 0 0;">
            <li>2 pizzas familiares + 12 cervezas ‚Üí 68 km üèÉ‚Äç‚ôÇÔ∏è</li>
            <li>Kebab XXL + sangr√≠a litrona ‚Üí 29 km p√°del</li>
            <li>15 gin-tonics ‚Üí 41 km spinning</li>
            <li>Nachos loaded + wings + cubo ‚Üí 37 km bici</li>
            <!-- A√±ade m√°s cuando quieras -->
          </ol>
        </div>

        <div id="disclaimer" class="disclaimer"></div>
      </div>
    </div>
  </div>

  <script>
    // --- Tu c√≥digo JavaScript original completo aqu√≠ ---
    // (copio solo la parte relevante y a√±ado las nuevas funcionalidades al final)

    let currentLang = 'es';
    const I18N = { /* ... tu objeto I18N completo sin cambios ... */ };
    const MESSAGES = { /* ... sin cambios ... */ };
    const PHRASES = { /* ... sin cambios ... */ };
    const ACTIVITIES = [ /* ... tu array original de actividades ... */ ];

    let currentResults = { people: [], kcal: 0, label: '' };
    let activePersonIndex = 0;

    // ... todas tus funciones originales: tMsg, randomPhrase, formatMinutes, formatDistance, applyLanguage, etc. ...

    // DOM elements (las que ya ten√≠as + nuevas)
    const toggleInverse = document.getElementById('toggleInverse');
    const inverseBlock = document.getElementById('inverseBlock');
    const inverseActivity = document.getElementById('inverseActivity');
    const inverseValue = document.getElementById('inverseValue');
    const btnInverse = document.getElementById('btnInverse');
    const inverseResult = document.getElementById('inverseResult');
    const shareContainer = document.getElementById('shareContainer');
    const btnShare = document.getElementById('btnShare');

    // Toggle inverso
    toggleInverse.addEventListener('change', () => {
      inverseBlock.style.display = toggleInverse.checked ? 'block' : 'none';
    });

    // Llenar actividades en modo inverso
    ACTIVITIES.forEach(act => {
      const opt = document.createElement('option');
      opt.value = act.id;
      opt.textContent = act.name[currentLang] + (act.note ? ` (${act.note[currentLang] || act.note.es})` : '');
      inverseActivity.appendChild(opt);
    });

    // C√°lculo inverso
    btnInverse.addEventListener('click', () => {
      const actId = inverseActivity.value;
      const val = parseFloat(inverseValue.value);
      if (!actId || isNaN(val) || val <= 0) {
        inverseResult.innerHTML = currentLang === 'es' ? 'Introduce actividad y valor v√°lido' : 'Select activity and valid value';
        return;
      }

      const act = ACTIVITIES.find(a => a.id === actId);
      const peso = parseFloat(pesoInput.value) || 75;
      let factor = sexoSelect.value === 'mujer' ? 0.95 : 1.0;

      let kcal = 0;
      if (act.hasDistance) {
        const timeH = val / act.speed;
        kcal = act.met * peso * factor * timeH;
      } else {
        const timeH = val / 60;
        kcal = act.met * peso * factor * timeH;
      }

      inverseResult.innerHTML = 
        `Puedes permitirte ‚âà <strong>${Math.round(kcal)} kcal</strong> ` +
        `si haces ${val} ${act.hasDistance ? 'km' : 'minutos'} de ${act.name[currentLang]}`;
    });

    // Compartir
    btnShare.addEventListener('click', () => {
      if (currentResults.kcal <= 0) return;

      const texto = currentLang === 'es'
        ? `¬°Mi castigo cal√≥rico! üî•\n${currentResults.label} ‚Üí ${Math.round(currentResults.kcal)} kcal\n` +
          `‚Üí Correr ‚âà ${Math.round(currentResults.people[0].rows[0].minutes)} min\n` +
          `¬øY t√∫ cu√°nto debes? üòÇ ‚Üí https://lovasasudar.com`
        : `My calorie punishment! üî•\n${currentResults.label} ‚Üí ${Math.round(currentResults.kcal)} kcal\n` +
          `‚Üí Run ‚âà ${Math.round(currentResults.people[0].rows[0].minutes)} min\n` +
          `How much do you owe? üòÇ ‚Üí https://lovasasudar.com`;

      if (navigator.share) {
        navigator.share({ title: 'Mi castigo cal√≥rico', text: texto, url: window.location.href }).catch(() => {});
      } else {
        navigator.clipboard.writeText(texto).then(() => {
          alert(currentLang === 'es' ? '¬°Texto copiado! P√©galo donde quieras' : 'Text copied!');
        });
      }
    });

    // Mostrar bot√≥n compartir cuando hay resultados
    const originalRenderResults = renderResults;
    function renderResults(label) {
      originalRenderResults(label);
      shareContainer.style.display = 'block';
    }

    // Inicializaci√≥n
    document.addEventListener('DOMContentLoaded', () => {
      applyLanguage('es');
    });
  </script>
</body>
</html>
